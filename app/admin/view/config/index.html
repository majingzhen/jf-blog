{extend name="layout/main" /}

{block name="title"}系统配置 - JF-Blog 后台{/block}

{block name="page_title"}系统配置{/block}

{block name="content">
<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">{$title|default='系统配置'}</h3>
            </div>
            <div class="card-body">
                <form action="<?php echo url('/admin/config/save'); ?>" enctype="multipart/form-data" method="post">
                    <input type="hidden" name="current_blog_logo" value="{$config.blog_logo|default=''}">

                    <div class="mb-3">
                        <label for="blog_name" class="form-label">博客名称</label>
                        <input type="text" class="form-control" id="blog_name" name="blog_name" value="{$config.blog_name|default=''}" required>
                    </div>

                    <div class="mb-3">
                        <label for="blog_subtitle" class="form-label">博客副标题</label>
                        <input type="text" class="form-control" id="blog_subtitle" name="blog_subtitle" value="{$config.blog_subtitle|default=''}">
                    </div>

                    <div class="mb-3">
                        <label for="blog_logo" class="form-label">博客LOGO</label>
                        <input type="file" class="form-control" id="blog_logo" name="blog_logo">
                        {if condition="$config.blog_logo"}
                            <div class="mt-2">
                                <p>当前LOGO:</p>
                                <img src="{$config.blog_logo}" alt="Current Logo" style="max-height: 100px; max-width: 200px;">
                            </div>
                        {/if}
                    </div>

                    <div class="mb-3">
                        <label for="blog_keywords" class="form-label">关键词</label>
                        <input type="text" class="form-control" id="blog_keywords" name="blog_keywords" value="{$config.blog_keywords|default=''}">
                        <div class="form-text">多个关键词用逗号分隔</div>
                    </div>

                    <div class="mb-3">
                        <label for="blog_description" class="form-label">描述</label>
                        <textarea class="form-control" id="blog_description" name="blog_description" rows="3">{$config.blog_description|default=''}</textarea>
                    </div>

                    <div class="mb-3">
                        <label for="posts_per_page" class="form-label">每页文章数</label>
                        <input type="number" class="form-control" id="posts_per_page" name="posts_per_page" value="{$config.posts_per_page|default='10'}" min="1" max="50">
                    </div>

                    <div class="mb-3">
                        <button type="submit" class="btn btn-primary">保存配置</button>
                        <a class="btn btn-secondary" href="<?php echo url('/admin/index'); ?>">返回</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{/block}